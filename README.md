
# Digital Twin Manufacturing Line (VSI + SimPy)

## Overview

This project implements a **Digital Twin manufacturing line** using **Siemens Innexis Virtual System Interconnect (VSI)** and **SimPy**.

The system is first defined using **Digital Twin Definition Language (DTDL)**, which specifies the PLC Line Coordinator, six production stations (ST1–ST6), their signals, and communication links. The defined digital twin is then deployed and executed on **Innexis Virtual System Interconnect (VSI)**.

The manufacturing line follows a **pipeline execution model** coordinated by a **PLC Line Coordinator**. Each production station is implemented in **Python using SimPy**, an **open-source** discrete-event simulation library, and integrated through VSI using **TCP/IP** communication.

**Innexis Virtual System Interconnect (VSI)** is a **closed-source Siemens platform**, used to manage time synchronization, signal exchange, and communication between digital twin components.

---

## Key Features

* Digital Twin defined first using DTDL
* Six production stations (ST1–ST6)
* Central PLC Line Coordinator
* PLC-style handshake logic (ready / busy / done)
* Pipeline-based execution with parallel station operation
* Runtime log generation for all components
* KPI monitoring and optimization analysis using external dashboards

---

## System Architecture

### Digital Twin Definition (DTDL)

DTDL is used to define the structure of the digital twin, including:

* PLC Line Coordinator
* Production stations (ST1–ST6)
* Input/output signals
* Communication ports and connections

DTDL acts as the integration layer between all components deployed on VSI.

---

### Innexis Virtual System Interconnect (VSI)

**Innexis Virtual System Interconnect (VSI)** is a **closed-source platform by Siemens** used to:

* Deploy the DTDL-defined digital twin
* Synchronize simulation time across components
* Provide TCP/IP-based communication
* Exchange signals between PLC and stations

All PLC and station processes run as independent VSI clients.

---

### PLC Line Coordinator

The **PLC Line Coordinator** is responsible only for **control and coordination**.

* Sends start, stop, and reset commands to stations
* Receives status feedback and cycle times
* Enforces correct sequencing and pipeline flow
* Prevents race conditions and duplicate execution

The PLC **does not perform optimization** and **does not analyze KPIs**.

---

### Production Stations (ST1–ST6)

Each production station:

* Waits for an explicit PLC command
* Executes exactly one cycle per command
* Reports:

  * ready / busy / done
  * fault status
  * cycle time

Stations operate independently and may run in parallel when pipeline conditions are satisfied.

---

## Pipeline Execution Model

The manufacturing line operates as a **pipeline**, not a sequential system.

* Multiple stations can operate concurrently
* Parallel execution occurs when upstream work is available
* The PLC coordinates execution using handshake signals and internal buffers

This reflects real industrial production lines.

---

## Dashboards and Analysis

### KPI Dashboard

The **KPI Dashboard** is an external, read-only observer.

* Reads runtime logs generated by:

  * the PLC Line Coordinator
  * all production stations
* Computes performance indicators such as:

  * station cycle times
  * utilization
  * throughput
  * rejects and rework counts

The KPI Dashboard **does not interact with the PLC** and **does not affect simulation behavior**.

---

### Optimization Dashboard

The **Optimization Dashboard** is an external analysis tool used to evaluate production behavior.

* Reads the same runtime logs as the KPI Dashboard
* Performs optimization analysis based on **user-defined parameters**
* Identifies:

  * bottlenecks
  * inefficiencies
  * performance trade-offs

Both dashboards operate as **external observers** and **do not influence the simulation control flow**.

The Optimization Dashboard **does not interact with the PLC** and **does not directly control stations**.

---

## Communication

* Protocol: **TCP/IP**
* VSI Python gateways are used for communication
* Data flow:

  * PLC → Stations: control commands
  * Stations → PLC: status signals and timing data
* Dashboards → Logs: read-only access

---

## Open-Source vs Proprietary Components

* **Innexis Virtual System Interconnect (VSI)**
  Closed-source Siemens platform used for system integration and synchronization.

* **SimPy**
  Open-source Python library used to model station behavior and process timing.

This separation allows realistic industrial integration while keeping station logic transparent and extensible.

---

## Authors

* Mina Adel
* Mina Atef
* George Sameh
* Sama Salem
* Mariam Nasr

### Supervised by

* Dr. Mohamed Abdelsalam
* Dr. Mohamed Elithy
* Dr. Mohamed El Hosseini
* Dr. Alfred

---
